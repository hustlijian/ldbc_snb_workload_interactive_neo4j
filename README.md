Neo4j Data Importer & Workload Runner for LDBC Social Network Benchmark
---------------------

This is a reference implementation of the LDBC Social Network benchmark, for the [Neo4j](http://www.neo4j.org/) graph database.
It contains code for the following:

1. Importing datasets generated by the [LDBC Social Network Data Generator](https://github.com/ldbc/ldbc_snb_datagen) into Neo4j
2. Running workloads from the [LDBC Social Network Workload Definition](https://github.com/ldbc/ldbc_snb_docs) against Neo4j

**Build**

Initial build (**NOTE: requires Java 7, Git 1.8+, Maven 3.0+**):

	git clone https://github.com/ldbc/ldbc_socialnet_bm_neo4j.git
	cd ldbc_socialnet_bm_neo4j
	./build.sh

Subsequent builds:

	mvn clean compile -Dmaven.compiler.source=1.7 -Dmaven.compiler.target=1.7

**Import data into Neo4j**

	mvn exec:java -Dexec.mainClass=com.ldbc.snb.interactive.neo4j.load.LdbcSnbNeo4jImporter
	-Dexec.arguments="where/db/will/be/created/, where/csv/files/are/,path/to/neo4j.properties" 
	
The resulting Neo4j instance will have [this schema](https://github.com/ldbc/ldbc_socialnet_bm_neo4j/wiki/Schema)

**Run Example Using Maven**

	MAVEN_OPTS="-server -XX:+UseConcMarkSweepGC -Xmx512m" 
	mvn exec:java -Dexec.mainClass=com.ldbc.driver.Client
	-Dexec.arguments="-db,com.ldbc.snb.interactive.neo4j.Neo4jDb,
	  -w,com.ldbc.driver.workloads.ldbc.snb.interactive.LdbcInteractiveWorkload,
	  -oc,10,-tc,1,-s,-tu,MILLISECONDS,
	  -p,neo4j.path=db/,-p,neo4j.dbtype=embedded-api-steps,
	  -p,parameters=ldbc_driver/workloads/ldbc/socnet/interactive/parameters.json"

Valid values for `neo4j.dbtype`: `embedded-cypher`, `embedded-api-steps`, `embedded-api-raw` (not implemented), `remote-cypher` (not implemented)
	
Note, the workload is run using [ldbc_driver](https://github.com/ldbc/ldbc_driver). For more details about configuration options and general usage please refer to the wiki of that project.

**Configuration**

	# Directory where CSV data can be found (from LDBC Data Generator)
	data_dir=/path/to/ldbc/generator/social/network/csv/files/

	# Directory to store Neo4j database instance
	db_dir=db

	# neo4j properties file for configuring the batch importer
	neo4j_import_config=/neo4j_import_dev.properties

	# neo4j properties file for configuring the transactional database
	neo4j_run_config=/neo4j_run_dev.properties
